<!DOCTYPE html>
<html>
<head>
    <title>ESP32 Installer By OOM</title>
    <script src="https://unpkg.com/esptool-js@0.4.0/bundle.js"></script>
</head>
<body style="background:#1a1a1a; color:white; text-align:center; font-family:sans-serif; padding:50px;">
    <div style="border:2px solid #00f2ff; padding:30px; border-radius:20px; display:inline-block;">
        <h1>üöÄ ESP32 Web Installer</h1>
        <p id="status" style="color:#00f2ff; font-size:20px;">üî¥ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠</p>
        <button id="btn" style="padding:15px 30px; font-size:18px; cursor:pointer; background:#00f2ff; border:none; border-radius:10px; font-weight:bold;">1. ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ö‡∏≠‡∏£‡πå‡∏î</button>
    </div>

    <script>
        document.getElementById('btn').onclick = async () => {
            // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡πÇ‡∏´‡∏•‡∏î‡∏°‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á (‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ esptooljs ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
            const lib = window.esptooljs;
            if (!lib) {
                alert("‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏≤‡∏ô‡∏≤‡∏¢! ‡∏•‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏ô‡πá‡∏ï‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î F5 ‡∏ô‡∏∞");
                return;
            }

            try {
                const port = await navigator.serial.requestPort();
                await port.open({ baudRate: 115200 });
                
                const transport = new lib.Transport(port);
                const esploader = new lib.ESPLoader(transport, 115200);
                
                document.getElementById('status').innerText = "‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢‡∏ö‡∏≠‡∏£‡πå‡∏î... (‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° BOOT ‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏î‡πâ‡∏ß‡∏¢)";
                await esploader.main();
                
                document.getElementById('status').innerText = "‚úÖ ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ü‡∏•‡∏±‡∏ä‡πÅ‡∏•‡πâ‡∏ß";
                document.getElementById('status').style.color = "#00ff00";
            } catch (e) {
                alert("‡∏û‡∏•‡∏≤‡∏î‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ: " + e.message);
            }
        };
    </script>
</body>
</html>
